(()=>{var c=["theKingBlur.jpg","macHDBlur.jpg","macHDFocus.jpg"];function l(){for(let e of c){let i=new Image;i.src=`/img/${e}`}}function a(e){let i=e.querySelector(".window-bar");if(!i)return;let o=0,t=0,d=n=>{e.style.left=`${n.clientX-o}px`,e.style.top=`${n.clientY-t}px`},r=n=>{e.classList.remove("dragging"),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",r),n.pointerId!==void 0&&i.releasePointerCapture(n.pointerId)};i.addEventListener("pointerdown",n=>{if(n.button!==0&&n.pointerType!=="touch")return;let s=e.getBoundingClientRect();o=n.clientX-s.left,t=n.clientY-s.top,e.classList.add("dragging"),window.addEventListener("pointermove",d),window.addEventListener("pointerup",r),n.pointerId!==void 0&&i.setPointerCapture(n.pointerId),n.preventDefault()})}function g(e,i,o){let t=document.getElementById(e);if(!t)return;t.style.opacity="1",t.style.display="block";let d=!0,r=window.setInterval(()=>{t.style.opacity=d?"1":"0",d=!d},i);window.setTimeout(()=>{window.clearInterval(r),t.style.opacity="0",t.style.display=""},o)}function u(){l();let e=document.getElementById("the-king-window");e&&a(e),window.setTimeout(()=>{let o=document.getElementById("mac-hd-window");o&&(o.style.backgroundImage="url('/img/macHDBlur.jpg')"),e&&(e.style.display="block",e.setAttribute("aria-hidden","false")),window.innerWidth<1200&&window.setTimeout(()=>{let t=document.getElementById("home-key");t&&(t.style.zIndex="64000")},1e4)},2500);let i=document.getElementById("apple-desktop");i==null||i.addEventListener("click",o=>{let t=o.target;if(!(t instanceof Element))return;t.closest("#the-king-window")||g("the-king-blur",50,450)})}document.addEventListener("DOMContentLoaded",u);})();
